---
title: C Pointer Related
updated: 2015-11-13  22:30
---

### Dynamic Memory Allocation Function

**1. realloc**

> If the size is less than what is currently allocated, then the excess memory is returned to the heap, There is no guarantee that the excess memeory will be cleared, if the size is greater thean what is currently allocated, then if possible, the memory will be allocated from the region immediately following the current allocation.Otherwise,memory is allocated from the different region of the heap and old memory is copied to new region.

if the size is zero and the pointer is not null. Then the pointer will be freed.

expamle:
	
	//same region
	string1 = (char *)malloc(16); // and then only use 8 bytes.
	string2 = realloc(string1,8); //may the string2 and string1 in the same region

	//different region
	string1 = (char *)malloc(8);
	string2 = realloc(string2,64); //may the string2 in a different region and copy string1 to it.


**2. free**

Should free the memory allocated from the heap, if you free a pointer that don't use the allocated function. like:

	int num;
	int *pi = &num;
	free(pi); //undefined behavior

> You cannot assign NULL to a constant pointer except when it is initialized.




<embed src="http://music.163.com/style/swf/widget.swf?sid=125909811&type=0&auto=0&width=310&height=430" width="330" height="450"  allowNetworking="all">

