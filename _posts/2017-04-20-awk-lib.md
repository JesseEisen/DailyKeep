---
title: Awk libs
updated: 2017-04-20 18:00
---

这个lib不是awk自带的，而是通过awk封装的一些常用操作

## Color

使用tput命令设置颜色，将值读取到数组中

```awk
function set_color(array){
    #bold
    cmd = "tput bold";
    cmd | getline array["bold"];
    close(cmd)
    
    # color_name
    split("black red green yellow blue magenta cyan white", color_array)
    for(i = 0; i<length(color_array);i++){
        cmd = "tput setaf " i
        cmd | getline array[color_array[i+1]]
        close(cmd)    
    }

    cmd = "tput sgr0"
    cmd | getline array["reset"];
    close(cmd)
}
```

使用则为：

```awk

@include "colors.awk"

BEGIN{
    
    set_color(colors);
    
    print colors["red"] "red\t", colors["bold"] "bold red" colors["reset"];  
}

```

