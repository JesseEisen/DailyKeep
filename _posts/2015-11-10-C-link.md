---
title: ELF About
updated: 2015-11-10  22:21
---

## ELF file

There are three types of the elf file: executables file/shared object file/relocate file

Following are the some tools to find out what in those ELF file:

1. file

This tool can show a file some basic information. It use the `magic` file to read that, the output information is like the `readelf -h xxx`.

2. xxd 

This tool show the `hex address` and the `ascii value` of the file, we can find some value in it. like:

	xxd somefile | grep xxx   //asume we got `0000 0000 0000 0000 6865 6c6c 6f20 0000` that is `hello`

We can get the address and the string's ascii value, and we can modify this value, that's so amazing！ 

	echo "0000 0000 0000 0000 6865 6c6c 6f00 0000" |xxd -r - somefile  // now the `hello` become `hell`

How weak the string in those file.

3. strings

This is a tools that can read the binary file, show the string in the binary file. 

4. nm 

This tool can show the `symbol` in ELF file.  With some flags, like: `T` means the section `.text`, `U` means undefine, and so on. we still can see some functions that invoked in this file.

5. ldd

This tool use to show the `share object` in ELF file, we can use that to debug some `.so` file link error

6. readelf 

This is a powerful tool, and the other tool named `objdump`, they are similarly. With some options and flags, we can get what we want,like:

	readelf -h xxx   

With this flag , the `readelf` will show the header of this ELF file. 

	readelf -S xxx 

With this flag , the `readelf` will show the section of this file, like `.text` `.data` `.bss` `.rodata`

	readelf -l xxx

With this flag , the `readelf` will show the all the `segment` and `section` which the `segment` cantained. and we can find in `Flag` row. This is some bits like `RWE` , that means `readable` `writable` `executable`. so the `.rodata` just has the flag `R E` ,without the `W`, so that's correct.

	readelf -x .rodata xxx

With this flag, the `readelf` will show the `.rodata` section only, so we can conform something.


6. gdb 

When we use the `-g` flag in the gcc, we can input the debug info into the ELF file, so we can use the following order:
	
	gdb -batch -ex "info sources" xxx

with those debug info, our elf file will be larger than without the debug file. so we can use following command to remove those info

	strip xxx

Not only the debug info, but also the comment and some useless info, we can use the following command to remove those

	objcopy -R　.comment -R　.note xxx xxx.min 



## Link

+ [ELF introduction](http://flint.cs.yale.edu/cs422/doc/ELF_Format.pdf)


> motto: such is life, keep going.

